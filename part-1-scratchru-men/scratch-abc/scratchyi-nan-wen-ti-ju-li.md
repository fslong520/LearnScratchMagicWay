由于Scratch是一款面向少儿的编辑器，为了避免儿童的随意使用造成软件崩溃，引入了许多不够完善的特性。刚接触时往往会陷入一些奇怪的疑难问题之中。本章将会从以下几个方面介绍日常使用Scratch会碰到的边角问题：

1. 绘图和外观的坑
2. 看不见摸不着的事件控制
3. 不知道该用什么变量的克隆体
4. Scratch的谜之容错
5. 拖慢脚本的罪魁祸首

# 绘图和外观的坑

1. 任何图片都不能离开舞台
2. 矢量图和位图切边
3. 多线程下的层叠关系 新建角色和拖拽角色置顶 克隆体在本体下方一层 使用舞台广播并等待来制造消息流控制静态层级
4. 默认角度90°的用法
5. 消失的几种姿势 隐藏之后碰到鼠标指针 隐藏之后图章 虚化之后碰撞 隐藏之后画笔


# 看不见摸不着的事件控制

1. 鼠标点绿旗的迷惑
2. 消息等待
3. 等待0秒？等待-1秒？最小等待时间是多少0.033平均
4. 计数循环变计数
5. 拖拽优先级最高
6. 并行的条件竞争 碰到边缘反弹和等待碰到边缘


# 不知道该用什么变量的克隆体

1. 私有变量和私有改动
2. 消息入口的继承
3. 网格锁定和抓取集中



# Scratch的谜之容错

1. 不写入数字是计算多少
2. 写入小数的列表提取
3. 造型编号0的问题 颜色和角度的小于零
2. 不写入与或非结果是什么
4. 积木空缺填补参数的强大容错 面向角色的积木块可以加入数字 其实是可以加入字符串来实现
3. 利用容错能做什么 字符*1等于0 用来判断回答是否为字符 利用数字当成字符串抽出其中的第几位


# 拖慢脚本的罪魁祸首

1. 特效加循环
2. 外形复杂多角色移动



# 绘图和外观的坑

首先
scratch边界补正和遮挡
绘图缩放中心选择后切边 位图和矢量图的区别 导入图片默认位图


事件控制
抓取优先级
实现网格锁定 棋类游戏锁定位置
等待0秒占位
绿旗竞争
时间依赖
鼠标点击判断 绿旗就开始
并列循环互相影响未写成关联

克隆
克隆体互相判断碰撞消失
克隆体私有变量

随机数
实现非均匀概率分布
实现概率控制

运动和坐标
边缘反弹的正确姿势
坐标映射

运算相关
无填充运算符结果
造型编号0的处理 默认是从1减1所以到了最后一位 余数定位
颜色的余数定位
角度的余数定位




但是如果我们从电脑里选一个图片上传为造型，然后像一样随意设置几个中心，情况就有些不同了。

###### 图. 本地上传造型在选取中心过程中的切割效应

可以看到我们一旦在设置中心的过程中把造型挤到编辑区外，再次设置中心把角色拉回来时，角色就被切割了。这样会丢失角色的造型。为什么会发生这样的事情呢？

在将要发布的[Scratch 3.0](https://github.com/LLK/scratch-gui)中，我们可以看到，原来Scratch自带造型库中的造型都是一些可以编辑的曲线组成的。而其他本地计算机上传的图片都被Scratch视作了点阵颜色片，Scratch无法在切割之后重新构建它。

我们在自己的

###### 图. 通过缩放工具避免切割效应



